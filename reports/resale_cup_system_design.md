# 転売品コップシステム設計

## 日時
2025-07-28

## システム概要

### 基本コンセプト
**転売品専用コップ**を使用して、転売商品を視覚的・物理的に区別する直感的なシステム

### 物理コンポーネント構成
```
通常商品: プレイヤー色ダイス（そのまま配置）
転売品:   プレイヤー色ダイス + 専用コップ
```

---

## 転売フローの詳細設計

### Step 1: 通常の商品購入
```
購入者 → 購入価格支払い → 出品者
出品者のダイス → 購入者の手元に移動
```

### Step 2: 転売商品としての再出品
```
1. 購入したダイスを同じ目のまま維持
2. 専用コップに入れる
3. 転売価格で自分のマーケットに配置
```

### Step 3: 転売品の視覚的識別
```
通常商品: ダイスのみ（製造者の色）
転売品:   ダイス + コップ（転売者によって出品）
```

---

## システムの利点

### A. 直感的な理解
- **一目で判別**: コップの有無で転売品が即座に判別可能
- **所有履歴**: ダイス色で元の製造者、配置場所で現在の出品者が分かる
- **転売チェーン**: 複数回転売されてもダイス色で最初の製造者を追跡可能

### B. 物理的な使いやすさ
- **簡単な操作**: コップに入れるだけの単純作業
- **安定性**: ダイスがコップで固定され、誤って動かない
- **収納**: ゲーム終了時にコップでダイスを効率的に回収

### C. ゲーム体験の向上
- **転売の可視化**: 市場での転売活動が一目瞭然
- **戦略的情報**: どのプレイヤーが転売に依存しているか把握しやすい
- **テーマ性**: 転売品の「怪しさ」を物理的に表現

---

## 実装詳細

### コップ仕様
```
材質: プラスチック（軽量・耐久性）
サイズ: ダイス1個がちょうど収まるサイズ
高さ: ダイスが完全に隠れない程度（目が見える）
色: 透明 or 転売を示す特別色（オレンジなど）
個数: 20-30個（最大転売可能数に対応）
```

### ダイス配置ルール
```
通常商品配置: ダイスを直接マーケットグリッドに配置
転売品配置: ダイスをコップに入れてからマーケットグリッドに配置
目的表示: ダイスの目は製造コストを表示（転売でも変更なし）
```

---

## ゲームルールへの統合

### 転売アクション（2AP）の詳細フロー

#### 実行手順
1. **商品選択**: 他プレイヤーの商品を選択
2. **代金支払い**: 出品価格を出品者に支払い
3. **ダイス移動**: ダイスを購入者の手元に移動
4. **転売価格計算**: 購入価格 + 転売ボーナス
5. **コップ配置**: ダイスをコップに入れる
6. **市場出品**: コップ入りダイスを自分のマーケットの転売価格座標に配置
7. **履歴更新**: 転売履歴+1、威厳-1

#### 視覚的効果
```
Before: [青ダイス] ¥12 (Playerの商品)
After:  [青ダイス in コップ] ¥17 (転売者による転売品)
```

### 転売品の購入

#### 通常の購入と同様
- 転売品も他の商品と同様に購入可能
- 購入時はダイスをコップから取り出して購入者の手元に
- 再転売する場合は再びコップに入れる

#### 転売チェーンの追跡
```
製造: Player A (青ダイス) → ¥8で出品
転売1: Player B → ¥12で購入 → コップ入り青ダイスを¥17で出品
転売2: Player C → ¥17で購入 → コップ入り青ダイスを¥22で出品
```

---

## 汚染・規制システムとの連携

### 汚染マーカーの配置
```
転売成功時: 全体汚染レベル+1（カテゴリー廃止のため）
表示: 共通汚染トラックで管理
影響: 全商品の価格に汚染ペナルティ適用
```

### 規制システム
```
規制レベル3発動時: 
- 全ての転売品（コップ入り商品）を市場から除去
- コップからダイスを取り出してダイスプールに戻す
- 転売者は没収による損失
```

---

## プレイヤー体験の改善

### 情報の透明性
- **転売状況**: 市場を見れば転売品の数と出品者が一目瞭然
- **プレイヤー戦略**: 誰が転売に依存しているか把握しやすい
- **リスク評価**: 転売品の多さで規制発動リスクを判断

### 戦略的深度
- **転売タイミング**: いつ転売品を処分するか
- **転売チェーン**: 他プレイヤーの転売品をさらに転売する戦略
- **マーケット読み**: 転売品の動向から市場を分析

### テーマ性の強化
- **視覚的インパクト**: コップという「容器」が転売の怪しさを演出
- **物理的な区別**: 正規品と転売品の明確な差別化
- **ゲーム世界観**: 転売品を「隠す」行為の物理的表現

---

## 実装コスト

### 新規開発要素
- **コップコンポーネント**: 製造・調達コスト
- **ルール追加**: 転売品管理ルールの明文化
- **UI更新**: Webアプリでのコップ表示

### 既存システムとの統合
- **転売アクション**: 既存ルールにコップ処理を追加
- **購入システム**: コップ有无の判定追加
- **汚染システム**: カテゴリー廃止と連携

**総実装コスト**: 既存の転売システム + コップ管理ロジック = **追加15時間程度**

---

## 代替案との比較

### シール・マーカー方式 vs コップ方式

| 要素 | シール/マーカー | コップ |
|------|---------------|--------|
| **設置の手間** | 貼る・外す作業 | 入れる・出す作業 |
| **視認性** | 小さく見落としやすい | 大きく目立つ |
| **耐久性** | 粘着力の劣化 | 物理的に堅牢 |
| **コスト** | シール代・交換費用 | 初期投資のみ |
| **再利用性** | 使い捨て | 半永久的 |

**結論**: コップ方式が全ての面で優秀

---

## 推奨実装プラン

### Phase 1: コップ仕様確定（1週間）
1. ダイスサイズの正確な測定
2. コップのサイズ・形状設計
3. 材質・色の決定
4. 製造業者の選定

### Phase 2: ゲームルール更新（1週間）
1. 転売フローの詳細ルール化
2. ルールブックの更新
3. プレイヤー参照カードの修正

### Phase 3: Webアプリ対応（1週間）
1. コップ表示機能の実装
2. 転売品判定ロジックの追加
3. UI での視覚的区別

### Phase 4: テスト・調整（1週間）
1. 物理コンポーネントテスト
2. ゲームフロー確認
3. プレイアビリティ検証

**総期間**: **4週間**

---

## 結論

転売品コップシステムは、**最小限のコストで最大限の効果**を得られる優秀な解決策です。

### 主要メリット
- **直感的理解**: 誰でも一目で転売品を判別
- **物理的利便性**: 安定した配置と管理
- **戦略性向上**: 転売動向の可視化
- **テーマ性強化**: 転売の「隠蔽性」を物理的に表現

### 統合効果
プレイヤー色システム + コップシステムにより：
- カテゴリー廃止の簡素化効果
- 転売品の明確な区別
- 製造元と転売者の二重情報表示

この組み合わせで、**管理しやすく理解しやすい、かつ戦略的に奥深いゲーム**が実現できます。